🧪 Starting Comprehensive Fetch API Test Suite
===============================================
🔍 Test 1: Basic GET Request
✅ Basic GET: GET request successful
   Details: {
  "status": 200,
  "method": "GET"
}
🔍 Test 2: GET with Query Parameters
✅ GET with Query Params: Query parameters received
   Details: {
  "param1": "value1",
  "param2": "value2",
  "test": "true"
}
🔍 Test 3: POST with JSON Body
✅ POST JSON: Valid JSON received
   Details: {
  "sentData": {
    "name": "John Doe",
    "age": 30,
    "email": "john@example.com",
    "active": true
  },
  "receivedBody": {
    "name": "John Doe",
    "age": 30,
    "email": "john@example.com",
    "active": true
  }
}
🔍 Test 4: PUT Request
✅ PUT Request: PUT request successful
   Details: {
  "method": "PUT",
  "hasAuth": true
}
🔍 Test 5: DELETE Request
✅ DELETE Request: DELETE request successful
   Details: {
  "method": "DELETE"
}
🔍 Test 6: PATCH Request
✅ PATCH Request: PATCH request successful
   Details: {
  "method": "PATCH",
  "requestId": "patch-test-789"
}
🔍 Test 7: Custom Headers Validation
✅ Custom Headers: Required headers present
   Details: {
  "userAgent": "QuickJS-Custom-Headers/1.0",
  "customHeader": "test-value-123"
}
🔍 Test 8: Response Status Codes
✅ Status 200: Returned status 200, expected 200
   Details: {
  "statusText": "OK",
  "ok": true
}
✅ Status 201: Returned status 201, expected 201
   Details: {
  "statusText": "Created",
  "ok": true
}
❌ Status 204: Error: Unexpected end of JSON input
✅ Status 400: Returned status 400, expected 400
   Details: {
  "statusText": "Bad Request",
  "ok": false
}
✅ Status 401: Returned status 401, expected 401
   Details: {
  "statusText": "Unauthorized",
  "ok": false
}
✅ Status 404: Returned status 404, expected 404
   Details: {
  "statusText": "Not Found",
  "ok": false
}
✅ Status 500: Returned status 500, expected 500
   Details: {
  "statusText": "Internal Server Error",
  "ok": false
}
🔍 Test 9: OPTIONS Request
❌ OPTIONS Request: Error: Unexpected end of JSON input
🔍 Test 10: Comprehensive Validation
✅ Comprehensive Validation: Validation score: 6/6 (Score: 6/6)
   Details: {
  "hasContentType": true,
  "hasUserAgent": true,
  "hasBody": true,
  "hasAuthHeader": true,
  "isJsonContentType": true,
  "isValidJson": true
}
🔍 Test 11: Error Handling
✅ Error 400: Error 400 handled correctly
   Details: {
  "status": 400,
  "message": "Bad Request"
}
✅ Error 401: Error 401 handled correctly
   Details: {
  "status": 401,
  "message": "Unauthorized"
}
✅ Error 404: Error 404 handled correctly
   Details: {
  "status": 404,
  "message": "Not Found"
}
✅ Error 500: Error 500 handled correctly
   Details: {
  "status": 500,
  "message": "Internal Server Error"
}
🔍 Test 12: Large Payload Test
✅ Large Payload: Large payload (174149 bytes) sent successfully
   Details: {
  "payloadSize": 174149
}
🔍 Test 13: Multiple Headers Test
✅ Multiple Headers: Successfully sent 14 headers
   Details: {
  "headerCount": 14,
  "hasCustomHeaders": true
}
🔍 Test 14: Timer Functions (setInterval/clearInterval)
🔍 Test 15: Multiple Concurrent Intervals
🔍 Test 16: Mixed setTimeout and setInterval
Fast interval: 1
Mixed interval executed
Timeout 1 executed (100ms)
Fast interval: 2
Interval execution #1
Mixed interval executed
Slow interval: 1
Fast interval: 3
Fast interval: 4
Interval execution #2
Mixed interval executed
Fast interval: 5
Final timeout executed (50ms)
✅ Mixed Timers: Mixed setTimeout and setInterval execution completed
   Details: {
  "executionOrder": [
    "interval",
    "timeout-1",
    "interval",
    "interval",
    "timeout-2"
  ]
}
Slow interval: 2
Interval execution #3
Interval cleared after 3 executions
✅ setInterval/clearInterval: Interval executed 3 times and was properly cleared
   Details: {
  "executions": 3,
  "maxExpected": 3
}
Slow interval: 3
✅ Multiple Intervals: Fast: 5/5, Slow: 3/3 executions
   Details: {
  "fastExecutions": 5,
  "slowExecutions": 3
}
==================================================
📊 Test Summary:
================
Passed: 23/25 (92%)
❌ Failed Tests:
   - Status 204: Error: Unexpected end of JSON input
   - OPTIONS Request: Error: Unexpected end of JSON input
🎯 All fetch API and timer tests completed!
